{% include "colors-snippet" %}
{{ 'template-collection.css' | asset_url | stylesheet_tag }}
{{ 'component-loading-overlay.css' | asset_url | stylesheet_tag }}
{{ 'price-range.css' | asset_url | stylesheet_tag }}


{{ 'shop-by-category-banner.css' | asset_url | stylesheet_tag }}
{{ 'collection-filter.css' | asset_url | stylesheet_tag }}
{{ 'product-collection.css' | asset_url | stylesheet_tag }}
{{ 'featured-collection-new.css' | asset_url | stylesheet_tag }}

<style>
  .selected .check-box{
    background-image: url("{{ 'icon-checkmark.svg' | asset_url }}");
      background-size: 11px;
      background-position: center;
  }
</style>

<link rel="preload" href="{{ 'component-card.css' | asset_url }}" as="style" onload="this.onload=null;this.rel='stylesheet'">
<link rel="preload" href="{{ 'component-price.css' | asset_url }}" as="style" onload="this.onload=null;this.rel='stylesheet'">
<link rel="preload" href="{{ 'component-badge.css' | asset_url }}" as="style" onload="this.onload=null;this.rel='stylesheet'">
<link rel="preload" href="{{ 'component-rte.css' | asset_url }}" as="style" onload="this.onload=null;this.rel='stylesheet'">

<noscript>{{ 'component-card.css' | asset_url | stylesheet_tag }}</noscript>
<noscript>{{ 'component-price.css' | asset_url | stylesheet_tag }}</noscript>
<noscript>{{ 'component-badge.css' | asset_url | stylesheet_tag }}</noscript>
<noscript>{{ 'component-rte.css' | asset_url | stylesheet_tag }}</noscript>

{%- assign sort_by = collection.sort_by | default: collection.default_sort_by -%}

{% assign collection_title = collection.title %}


<div class="collection-filter-wrapper container">
  <div class="collection-filter flex-box justify-between">
    <div class="filter-mask">
      <div class="collection-filter-left">

        <div class="filter-tags style-scrollbar">
          {% for linkx in linklists[section.settings.header-list].links %}
          {%- for coll in collections -%}
          {% assign collhandx = linkx.url | split: "/" | last %}
          {% if collhandx == coll.handle %}
            {% if coll.image %}
          
            <div class="collection-types bold{% if coll.title == collection.title %} current {% elsif coll.title == "Grouping collection" %} no-disp {% else %} {% endif %}"><a href="{{coll.url}}">{{ coll.title }}</a></div>
          
          {% if coll.title == collection.title %}
          {% for link in linklists[section.settings.header-list].links %}
          {% assign collhand = link.url | split: "/" | last %}
          {% if collhand == collection.handle %}
          <div class="collection-tags curr-tag">
              {%- for child_link in link.links -%}
            	{% assign tagx = child_link.url | split: "tag=" | last %}
                {% for tag in collection.tags %}
                {% assign tagsm = tag | downcase %}
                {% assign linksm = tagx | downcase %}
                {% if tagsm == linksm %}
                  <div class="collection-tag semibold tag-{{ tag | handleize}}" data-tfilter="{{ tag }}">{{ tag }}</div>
                {% endif %}
                {% endfor %}
              {% endfor %}
            </div>
          {% endif %}
          {% endfor %}
          {% endif %}
            {% endif %}
            {% endif %}
          {% endfor %}
          {% endfor %}

        </div>

        <div class="product-filter-mask close disp-no">
          <span class="product-filter-heading">PRODUCTEN FILTEREN</span>
          <span class="product-filter-close filter-close">{% render "icon-close-1" %}</span>
        </div>

        <div class="overflow">
          <div class=" filter-tags small disp-no">
            <div class = "all-collection-title">
              {%- for coll in collections -%}
              <div class="collection-types {% if coll.title == collection.title %} current {% elsif coll.title == "Grouping collection" %} no-disp {% else %}{% endif %}">{{ coll.title }} {% render "back-icon" %}</div>
              <div class="collection-tags{% if coll.title != collection.title %} no-disp{% endif %}"></div>
              {% endfor %}
            </div>
            <div class="active-collection-tags">
              {% for tag in collection.tags %}
              <div class="collection-tag semibold" data-tfilter="{{ tag }}">{{ tag }}</div>
              {% endfor %}
            </div>
          </div>

          <div class=" filter-by-tags price-tag-filters">
            <div class="filter-title semibold">Filter op:</div>
            {% for block in section.blocks %}
            {% if block.type == "price_filter" %}
            <div class="price-filter{% for block in section.blocks %}{% if block.type == "price_filter" %}{% if block.settings.show_price_filter == false %} no-disp{% endif %}{% endif %}{% endfor %}">
              <div class="price-filter-title-wrapper bold flex-box justify-between filter-accordion">
                <div class="price-filter-title">{{block.settings.show_price_filter_heading}}</div>
                <div class="down-chevron">{% include 'icon-black-down-chevron' %}</div>
              </div>
              <div class="panel">
                <div class="slidecontainer">
                  
                  <div class="price-range-slider">
                    
                  <div id="slider-range" class="range-bar"></div>
                </div>
                  
                  <div class="range-count">
                    <div type="text" id="lower-value"></div>
                    
                    <p class="range-value">
<!--                     <div type="text" id="amount" readonly>
                    </div> -->
                    </p>
                    <div type="text" id="higher-value"></div>
                  </div>
                </div>
              </div>
              <div class="yellow-border-bottom"></div>
            </div>
            {% endif %}
            {% endfor %}

            <div class="sex-filter {% if section.settings.gender_show == false %} no-disp {% endif %}">
              <div class="sex-filter-title-wrapper bold flex-box justify-between filter-accordion ">
                <div class="price-filter-title">{{section.settings.gender_filter_title}}</div>
                <div class="down-chevron">{% include 'icon-black-down-chevron' %}</div>
              </div>
              <div class="panel">
                {% for block in section.blocks %}
                {% if block.type == "gender_filter" %}
                <a onClick="return false;" data-value="{{block.settings.gender | downcase }}" class="gender check-box-wrapper flex-box align-center filter-option">
                  <span class="check-box"></span>
                  <span class="check-box-option semibold" >{{block.settings.gender}}</span>
                </a>
                {% endif %}
                {% endfor %}
              </div>
              <div class="yellow-border-bottom"></div>
            </div>

            <div class="size-filter {% if section.settings.size_show == false %} no-disp {% endif %}">
              <div class="sex-filter-title-wrapper bold flex-box justify-between filter-accordion ">
                <div class="price-filter-title">{{section.settings.size_filter_title}}</div>
                <div class="down-chevron">{% include 'icon-black-down-chevron' %}</div>
              </div>
              <div class="panel">
                {% for block in section.blocks %}
                {% if block.type == "size_filter" %}
                <a onClick="return false;" data-value="{{block.settings.size | downcase }}" class="size check-box-wrapper flex-box align-center filter-option">
                  <span class="check-box"></span>
                  <span class="check-box-option semibold">{{block.settings.size}}</span>
                </a>
                {% endif %}
                {% endfor %}
              </div>
              <div class="yellow-border-bottom"></div>
            </div>

            <div class="type-filter {% if section.settings.type_show == false %} no-disp {% endif %}">
              <div class="sex-filter-title-wrapper bold flex-box justify-between filter-accordion ">
                <div class="price-filter-title">{{section.settings.type_filter_title}}</div>
                <div class="down-chevron">{% include 'icon-black-down-chevron' %}</div>
              </div>
              <div class="panel">
                {% for block in section.blocks %}
                {% if block.type == "type_filter" %}
                <a onClick="return false;" data-value="{{block.settings.type | downcase | remove : " " }}" class="type check-box-wrapper flex-box align-center filter-option">
                  <span class="check-box"></span>
                  <span class="check-box-option semibold">{{block.settings.type}}</span>
                </a>
                {% endif %}
                {% endfor %}
              </div>
              <div class="yellow-border-bottom"></div>
            </div>

            <div class="brand-filter {% if section.settings.brand_show == false %} no-disp {% endif %}">
              <div class="sex-filter-title-wrapper bold flex-box justify-between filter-accordion ">
                <div class="price-filter-title">{{section.settings.brand_filter_title}}</div>
                <div class="down-chevron">{% include 'icon-black-down-chevron' %}</div>
              </div>
              <div class="panel">
                {% for block in section.blocks %}
                {% if block.type == "brand_filter" %}
                <a onClick="return false;" data-value="{{block.settings.brand | downcase | remove : " " }}" class="brand check-box-wrapper flex-box align-center filter-option">
                  <span class="check-box"></span>
                  <span class="check-box-option semibold">{{block.settings.brand}}</span>
                </a>
                {% endif %}
                {% endfor %}
              </div>
              <div class="yellow-border-bottom"></div>
            </div>
          </div>
        </div>
      </div>
    </div>
    
    <div class="filter-toggler">PRODUCTEN FILTEREN</div>
    
    
    <div class="collection-filter-right">
   <div class="collection-banner-wrapper">
        <div class="collection-banner flex-box justify-between">
          <div class="bg-gray-dots">{% include "image-banner-gray-dots" %}</div>
          <div class="banner-right">
            <img 
                 src="{{ collection.image | img_url: '533x' }}"
                 loading="lazy"
                 >
          </div>
          <div class="banner-left">
            <div class="banner-title bold">{{ collection.title }}</div>
            <div class="banner-desc light">{{ collection.description }}</div>
            {% for block in section.blocks %}
            {% if block.type == "button" %}
            {%- if block.settings.button_label != blank -%}
            <div class="banner-link">
              <a href="{{ block.settings.button_link }}" class="bold">{{ block.settings.button_label | escape }}</a>
              <span class="right-black-chveron">{% include 'icon-black-right-chevron' %}</span>
            </div>
            {%- endif -%}
            {% endif %}
            {% endfor %}
          </div>
        </div>
      </div>
      
      <div class="collection-banner-wrapper small">
        <div class="banner-small">
          <img 
               src="{{ collection.image | img_url: '533x' }}"
               loading="lazy"
               >
        </div>
        <div class="">
            <div class="banner-title bold">{{ collection.title }}</div>
            <div class="banner-desc light">{{ collection.description }}</div>
            {% for block in section.blocks %}
            {% if block.type == "button" %}
            {%- if block.settings.button_label != blank -%}
            <div class="banner-btn-link">
              <a href="{{ block.settings.button_link }}" class="bold">{{ block.settings.button_label | escape }}</a>
              <span class="right-black-chveron">{% include 'icon-black-right-chevron' %}</span>
            </div>
            {%- endif -%}
            {% endif %}
            {% endfor %}
          </div>
      </div>
      
 
      <div class="sorting-wrapper light flex-box justify-between">
       
        <div class="sorting-part total-items flex-box border-bottom justify-between">
          <select id="filter-count" class="select__select product_count_sort">
            <option value="" disabled>Toon 25 items</option>
            <option value="25">{{ section.settings.filter_1_text }}Toon 25 items</option>
            <option value="50">Toon 50 items</option>
            <option value="100">Toon 100 items</option>
            <option value="1000" selected>Toon all items</option>
          </select>
    
            {% include 'icon-black-down-chevron' %}
     
        </div>
        
        <div class="sorting-part showing-items">Items {% paginate collection.products by 500 %}{{collection.products.size}}{% endpaginate %} van all</div>
        <div class = "sort__by_filter" >
          <div class=" collection-filters" id="main-collection-filters" data-id="{{ section.id }}">
        {%- if section.settings.enable_filtering or section.settings.enable_sorting -%}
        {%- assign total_active_values = 0 -%}
        <collection-filters-form class="facets">
          <form id="CollectionFiltersForm" class="facets__form">
            {% if section.settings.enable_filtering %}
            <div class="facets__wrapper">
              {%- unless collection.filters == empty -%}
              <p class="facets__heading">{{ 'sections.collection_template.filter_by_label' | t }}</p>
              {%- endunless -%}

              {%- for filter in collection.filters -%}
              {%- assign total_active_values = total_active_values | plus: filter.active_values.size -%}
              {% case filter.type %}
              {% when 'list' %}
              <details class="disclosure-has-popup facets__disclosure js-filter" data-index="{{ forloop.index }}">
                <summary class="facets__summary">
                  <div>
                    <span>{{ filter.label | escape }}</span>
                    <span class="count-bubble">{%- if filter.active_values.size > 0 -%}{{ filter.active_values.size }}{%- endif -%}</span>
                    {% render 'icon-caret' %}
                  </div>
                </summary>
                <div class="facets__display">
                  <div class="facets__header">
                    <span class="facets__selected no-js-hidden">{{ 'sections.collection_template.filters_selected' | t: count: filter.active_values.size }}</span>
                    <a href="{{ filter.url_to_remove }}" class="facets__reset link underlined-link js-facet-remove" >{{ 'sections.collection_template.reset' | t }}</a>
                  </div>

                  <ul class="facets__list list-unstyled" role="list">
                    {%- for value in filter.values -%}
                    <li class="list-menu__item facets__item">
                      <label for="Filter-{{ filter.label | escape }}-{{ forloop.index }}" class="facet-checkbox{% if value.count == 0 and value.active == false %} facet-checkbox--disabled{% endif %}">
                        <input type="checkbox"
                               name="{{ value.param_name }}"
                               value="{{ value.value }}"
                               id="Filter-{{ filter.label | escape }}-{{ forloop.index }}"
                               {% if value.active %}checked{% endif %}
                               {% if value.count == 0 and value.active == false %}disabled{% endif %}
                               >

                        <svg width="16" height="16" viewBox="0 0 16 16" aria-hidden="true" focusable="false">
                          <rect width="16" height="16" stroke="currentColor" fill="none" stroke-width="1"></rect>
                        </svg>

                        <svg class="icon icon-checkmark" aria-hidden="true" focusable="false" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 9" fill="none" width="10px" height="10px">
                          <path fill-rule="evenodd" clip-rule="evenodd" d="M11.35.643a.5.5 0 01.006.707l-6.77 6.886a.5.5 0 01-.719-.006L.638 4.845a.5.5 0 11.724-.69l2.872 3.011 6.41-6.517a.5.5 0 01.707-.006h-.001z" fill="currentColor"/>
                        </svg>
                        {{ value.label | escape }} ({{ value.count }})
                      </label>
                    </li>
                    {%- endfor -%}
                  </ul>
                </div>
              </details>
              {% when 'price_range' %}
              {% liquid
                  assign currencies_using_comma_decimals = 'ANG,ARS,BRL,BYN,BYR,CLF,CLP,COP,CRC,CZK,DKK,EUR,HRK,HUF,IDR,ISK,MZN,NOK,PLN,RON,RUB,SEK,TRY,UYU,VES,VND' | split: ','
                  assign uses_comma_decimals = false
                  if currencies_using_comma_decimals contains cart.currency.iso_code
                    assign uses_comma_decimals = true
                  endif
                %}
              <details class="disclosure-has-popup facets__disclosure js-filter" data-index="{{ forloop.index }}">
                <summary class="facets__summary">
                  <div>
                    <span>{{ filter.label | escape }}</span>
                    <span class="count-bubble{%- if filter.min_value.value or filter.max_value.value -%}{{ filter.active_values.size }} count-bubble--dot{% endif %}"></span>
                    {% render 'icon-caret' %}
                  </div>
                </summary>
                <div class="facets__display">
                  <div class="facets__header">
                    {%- assign max_price_amount = filter.range_max | money | escape -%}
                    <span class="facets__selected">{{ "sections.collection_template.max_price" | t: price: max_price_amount }}</span>
                    <a href="{{ filter.url_to_remove }}" class="facets__reset link underlined-link js-facet-remove" >{{ 'sections.collection_template.reset' | t }}</a>
                  </div>
                  <price-range class="facets__price">
                    <div class="field">
                      <span class="field__currency">{{ cart.currency.symbol }}</span>
                      <input class="field__input"
                             name="{{ filter.min_value.param_name }}"
                             id="Filter-{{ filter.label | escape }}-{{ forloop.index }}"
                             {%- if filter.min_value.value -%}
                             {%- if uses_comma_decimals -%}
                             value="{{ filter.min_value.value | money_without_currency | replace: '.', '' | replace: ',', '.' }}"
                             {%- else -%}
                             value="{{ filter.min_value.value | money_without_currency | replace: ',', '' }}"
                             {% endif %}
                             {%- endif -%}
                             type="number"
                             placeholder="0"
                             min="0"
                             max="{{ filter.range_max | money_without_currency | replace: ',', '' }}">
                      </input>
                    <label class="field__label" for="Search-In-Modal">{{ 'sections.collection_template.from' | t }}</label>
                    </div>
                  <div class="field">
                    <span class="field__currency">{{ cart.currency.symbol }}</span>
                    <input class="field__input"
                           name="{{ filter.max_value.param_name }}"
                           id="Filter-{{ filter.label | escape }}-{{ forloop.index }}"
                           {%- if filter.max_value.value -%}
                           {%- if uses_comma_decimals -%}
                           value="{{ filter.max_value.value | money_without_currency | replace: '.', '' | replace: ',', '.' }}"
                           {%- else -%}
                           value="{{ filter.max_value.value | money_without_currency | replace: ',', '' }}"
                           {% endif %}
                           {%- endif -%}
                           type="number"
                           placeholder="{{ filter.range_max | money_without_currency | replace: ',', '' }}"
                           min="0"
                           max="{{ filter.range_max | money_without_currency | replace: ',', '' }}">
                    </input>
                  <label class="field__label" for="Search-In-Modal">{{ 'sections.collection_template.to' | t }}</label>
                </div>
                </div>
              </price-range>
            </details>
          {% endcase %}
          {%- endfor -%}
          <noscript>
            <button type="submit" class="facets__button button">{{ 'sections.collection_template.filter_button' | t }}</button>
          </noscript>
          </div>

        <div class="active-facets active-facets-desktop">
          <a href="{{ collection.url }}?sort_by={{ sort_by }}" class="active-facets__button button button--secondary js-facet-remove">{{ 'sections.collection_template.clear_all' | t }}</a>
          {%- for filter in collection.filters -%}
          {%- for value in filter.active_values -%}
          <a class="active-facets__button active-facets__button--light button button--tertiary js-facet-remove" href="{{ value.url_to_remove }}">
            {{ value.label | escape }}
            {% render 'icon-close-small' %}
          </a>
          {%- endfor -%}
          {% if filter.type == "price_range" %}
          {%- if filter.min_value.value != nil or filter.max_value.value != nil -%}
          <a class="active-facets__button active-facets__button--light button button--tertiary js-facet-remove" href="{{ filter.url_to_remove }}">
            {%- if filter.min_value.value -%}{{ filter.min_value.value | money }}{%- else -%}{{ 0 | money }}{%- endif -%}-{%- if filter.max_value.value -%}{{ filter.max_value.value | money }}{%- else -%}{{ filter.range_max | money }}{%- endif -%}
            {% render 'icon-close-small' %}
          </a>
          {%- endif -%}
          {% endif %}
          {%- endfor -%}
        </div>
        {% endif %}

        {% if collection.current_vendor or collection.current_type %}
        <input type="hidden" name="q" value="{{ collection.current_vendor }}{{ collection.current_type }}">
        {% endif %}

        {%- if section.settings.enable_sorting -%}
        <div class="collection-filters__item sorting">
          <div class="collection-filters__field">
            {%comment%}
            <label class="collection-filters__label" for="SortBy">{{ 'sections.collection_template.sort_by_label' | t }}</label>
            {%endcomment%}
            <div class="select">
              {%- assign sort_by = collection.sort_by | default: collection.default_sort_by -%}
              <select name="sort_by" class="select__select collection-filters__sort" id="SortBy" aria-describedby="a11y-refresh-page-message">
                {%- for option in collection.sort_options -%}
                <option value="{{ option.value | escape }}"{% if option.value == sort_by %} selected="selected"{% endif %}>{{ option.name | escape }}</option>
                {%- endfor -%}
              </select>
              {% render 'icon-caret' %}
            </div>
          </div>

          <noscript>
            <button type="submit" class="button button--small">{{ 'sections.collection_template.sort_button' | t }}</button>
          </noscript>
        </div>
        {%- endif -%}
        </form>
      </collection-filters-form>
    <menu-drawer class="mobile-facets__wrapper">
      <details class="disclosure-has-popup medium-hide large-up-hide">
        <summary>
          <span class="mobile-facets__open button button--secondary">
            {% render 'icon-filter' %}
            <span>{{ 'sections.collection_template.filter_and_sort' | t }}</span>
            <span class="count-bubble">
              {%- if total_active_values > 0 -%}{{ total_active_values }}{%- endif -%}
            </span>
          </span>
          <span tabindex="0" class="mobile-facets__close mobile-facets__close--no-js">{%- render 'icon-close' -%}</span>
        </summary>
        <collection-filters-form>
          <form id="CollectionFiltersFormMobile" class="mobile-facets">
            <div class="mobile-facets__inner">
              <div class="mobile-facets__header">
                <div class="mobile-facets__header-inner">
                  <h2 class="mobile-facets__heading">{{ 'sections.collection_template.filter_and_sort' | t }}</h2>
                  <p class="mobile-facets__count">{{ 'sections.collection_template.product_count' | t: product_count: collection.products_count, count: collection.all_products_count }}</p>
                </div>
              </div>
              <div class="mobile-facets__main">
                {%- for filter in collection.filters -%}
                {% case filter.type %}
                {% when 'list' %}
                <details class="mobile-facets__details js-filter" data-index="mobile-{{ forloop.index }}">
                  <summary class="mobile-facets__summary">
                    <div>
                      <span>{{ filter.label | escape }}</span>
                      <span class="count-bubble">
                        {%- if filter.active_values.size > 0 -%}{{ filter.active_values.size }}{%- endif -%}
                      </span>
                      <span class="mobile-facets__arrow no-js-hidden">{% render 'icon-arrow' %}</span>
                      <noscript>{% render 'icon-caret' %}</noscript>
                    </div>
                  </summary>
                  <div class="mobile-facets__submenu">
                    <button class="mobile-facets__close-button link link--text focus-inset" aria-expanded="true" type="button">
                      {% render 'icon-arrow' %}
                      {{ filter.label | escape }}
                    </button>
                    <ul class="mobile-facets__list list-unstyled" role="list">
                      {%- for value in filter.values -%}
                      <li class="mobile-facets__item list-menu__item">
                        <label for="Filter-{{ filter.label | escape }}-mobile-{{ forloop.index }}" class="mobile-facets__label{% if value.count == 0 and value.active == false %} mobile-facets__label--disabled{% endif %}">
                          <input class="mobile-facets__checkbox"
                                 type="checkbox"
                                 name="{{ value.param_name }}"
                                 value="{{ value.value }}"
                                 id="Filter-{{ filter.label | escape }}-mobile-{{ forloop.index }}"
                                 {% if value.active %}checked{% endif %}
                                 {% if value.count == 0 and value.active == false %}disabled{% endif %}
                                 >

                          <span class="mobile-facets__highlight"></span>

                          <svg width="16" height="16" viewBox="0 0 16 16" aria-hidden="true" focusable="false">
                            <rect width="16" height="16" stroke="currentColor" fill="none" stroke-width="1"></rect>
                          </svg>

                          <svg class="icon icon-checkmark" aria-hidden="true" focusable="false" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 9" fill="none" width="10px" height="10px">
                            <path fill-rule="evenodd" clip-rule="evenodd" d="M11.35.643a.5.5 0 01.006.707l-6.77 6.886a.5.5 0 01-.719-.006L.638 4.845a.5.5 0 11.724-.69l2.872 3.011 6.41-6.517a.5.5 0 01.707-.006h-.001z" fill="currentColor"/>
                          </svg>

                          {{ value.label | escape }} ({{ value.count }})
                        </label>
                      </li>
                      {%- endfor -%}
                    </ul>

                    <div class="no-js-hidden mobile-facets__footer">
                      <a href="{{ collection.url }}" class="mobile-facets__clear button button--secondary js-facet-remove">{{ 'sections.collection_template.clear' | t }}</a>
                      <button type="button" class="no-js-hidden button button--primary" onclick="this.closest('.mobile-facets__wrapper').querySelector('summary').click()">{{ 'sections.collection_template.apply' | t }}</button>
                      <noscript><button class="button button--primary">{{ 'sections.collection_template.apply' | t }}</button></noscript>
                    </div>
                  </div>
                </details>
                {% when 'price_range' %}
                <details class="mobile-facets__details js-filter" data-index="mobile-{{ forloop.index }}">
                  <summary class="mobile-facets__summary">
                    <div>
                      <span>{{ filter.label | escape }}</span>
                      <span class="count-bubble{%- if filter.min_value.value or filter.max_value.value -%}{{ filter.active_values.size }} count-bubble--dot{% endif %}"></span>
                      <span class="mobile-facets__arrow no-js-hidden">{% render 'icon-arrow' %}</span>
                      <noscript>{% render 'icon-caret' %}</noscript>
                    </div>
                  </summary>
                  <div class="mobile-facets__submenu">
                    <button class="mobile-facets__close-button link link--text focus-inset" aria-expanded="true" type="button">
                      {% render 'icon-arrow' %}
                      {{ filter.label | escape }}
                    </button>

                    <p class="mobile-facets__info">{{ "sections.collection_template.max_price" | t: price: max_price_amount }}</p>

                    <price-range class="facets__price">
                      <div class="field">
                        <span class="field__currency">{{ cart.currency.symbol }}</span>
                        <input class="field__input"
                               name="{{ filter.min_value.param_name }}"
                               id="Filter-{{ filter.label | escape }}-{{ forloop.index }}"
                               {%- if filter.min_value.value -%}
                               {%- if uses_comma_decimals -%}
                               value="{{ filter.min_value.value | money_without_currency | replace: '.', '' | replace: ',', '.' }}"
                               {%- else -%}
                               value="{{ filter.min_value.value | money_without_currency | replace: ',', '' }}"
                               {% endif %}
                               {%- endif -%}
                               type="number"
                               placeholder="0"
                               min="0"
                               max="{{ filter.range_max | divided_by: 100 | ceil }}">
                        </input>
                      <label class="field__label" for="Search-In-Modal">{{ 'sections.collection_template.from' | t }}</label>
                      </div>
                    <div class="field">
                      <span class="field__currency">{{ cart.currency.symbol }}</span>
                      <input class="field__input"
                             name="{{ filter.max_value.param_name }}"
                             id="Filter-{{ filter.label | escape }}-{{ forloop.index }}"
                             {%- if filter.max_value.value -%}
                             {%- if uses_comma_decimals -%}
                             value="{{ filter.max_value.value | money_without_currency | replace: '.', '' | replace: ',', '.' }}"
                             {%- else -%}
                             value="{{ filter.max_value.value | money_without_currency | replace: ',', '' }}"
                             {% endif %}
                             {%- endif -%}
                             type="number"
                             placeholder="{{ filter.range_max | divided_by: 100 | ceil }}"
                             min="0"
                             max="{{ filter.range_max | divided_by: 100 | ceil }}">
                      </input>
                    <label class="field__label" for="Search-In-Modal">{{ 'sections.collection_template.to' | t }}</label>
                  </div>
                  </price-range>
              </div>
              </details>
            {% endcase %}
            {%- endfor -%}

            {%- if section.settings.enable_sorting -%}
            <div class="mobile-facets__details js-filter" data-index="mobile-{{ forloop.index }}">
              <div class="mobile-facets__summary">
                <div class="mobile-facets__sort">
                  <label for="SortBy-mobile">{{ 'sections.collection_template.sort_by_label' | t }}</label>
                  <div class="select">
                    <select name="sort_by" class="select__select" id="SortBy-mobile" aria-describedby="a11y-refresh-page-message">
                      {%- for option in collection.sort_options -%}
                      <option value="{{ option.value | escape }}"{% if option.value == sort_by %} selected="selected"{% endif %}>{{ option.name | escape }}</option>
                      {%- endfor -%}
                    </select>
                    {% render 'icon-caret' %}
                  </div>
                </div>
              </div>
            </div>
            {%- endif -%}

            <div class="mobile-facets__footer">
              <a href="{{ collection.url }}" class="mobile-facets__clear button button--secondary js-facet-remove">{{ 'sections.collection_template.clear' | t }}</a>
              <button type="button" class="no-js-hidden button button--primary" onclick="this.closest('.mobile-facets__wrapper').querySelector('summary').click()">{{ 'sections.collection_template.apply' | t }}</button>
              <noscript><button class="button button--primary">{{ 'sections.collection_template.apply' | t }}</button></noscript>
            </div>
            </div>

          {% if collection.current_vendor or collection.current_type %}
          <input type="hidden" name="q" value="{{ collection.current_vendor }}{{ collection.current_type }}">
          {% endif %}
          </div>
        </form>
      </collection-filters-form>
    </details>
  </menu-drawer>

<div class="active-facets active-facets-mobile">
  <a href="{{ collection.url }}?sort_by={{ sort_by }}" class="active-facets__button button button--secondary js-facet-remove">{{ 'sections.collection_template.clear_all' | t }}</a>
  {%- for filter in collection.filters -%}
  {%- for value in filter.active_values -%}
  <a class="active-facets__button active-facets__button--light button button--tertiary js-facet-remove" href="{{ value.url_to_remove }}">
    {{ value.label | escape }}
    {% render 'icon-close-small' %}
  </a>
  {%- endfor -%}

  {% if filter.type == "price_range" %}
  {%- if filter.min_value.value != nil or filter.max_value.value != nil -%}
  <a class="active-facets__button active-facets__button--light button button--tertiary js-facet-remove" href="{{ filter.url_to_remove }}">
    {%- if filter.min_value.value -%}{{ filter.min_value.value | money }}{%- else -%}{{ 0 | money }}{%- endif -%}-{%- if filter.max_value.value -%}{{ filter.max_value.value | money }}{%- else -%}{{ filter.range_max | money }}{%- endif -%}
    {% render 'icon-close-small' %}
  </a>
  {%- endif -%}
  {% endif %}
  {%- endfor -%}
</div>
{%- endif -%}
</div>
        </div>
      </div>
      
      <script src="{{ 'collection-filters-form.js' | asset_url }}" defer="defer"></script>
		<script src="{{ 'filter-accordion.js' | asset_url }}" defer="defer"></script>

      <div id="CollectionProductGrid">
        
        
        {% paginate collection.products by 500 %}
        {%- if collection.products.size == 0 -%}
        {% comment %}
        <div class="collection collection--empty " id="main-collection-product-grid" data-id="{{ section.id }}">
          <div class="loading-overlay">
            <div class="loading-overlay__spinner">
              <svg aria-hidden="true" focusable="false" role="presentation" class="spinner" viewBox="0 0 66 66" xmlns="http://www.w3.org/2000/svg">
                <circle class="path" fill="none" stroke-width="6" cx="33" cy="33" r="30"></circle>
              </svg>
            </div>
          </div>
			
          <p class="collection-product-count light">
            {{ 'sections.collection_template.product_count' | t: product_count: collection.products_count, count: collection.all_products_count }}
          </p>
		
          <div class="title-wrapper center">
            <h2 class="title title--primary">
              {{ 'sections.collection_template.empty' | t }}<br>
              {{ 'sections.collection_template.use_fewer_filters_html' | t: link: collection.url, class: "underlined-link link" }}
            </h2>
          </div>
        </div>
        {% endcomment %}
        {%- else -%}
        <div class="collection ">
          <div class="loading-overlay">
            <div class="loading-overlay__spinner">
              <svg aria-hidden="true" focusable="false" role="presentation" class="spinner" viewBox="0 0 66 66" xmlns="http://www.w3.org/2000/svg">
                <circle class="path" fill="none" stroke-width="6" cx="33" cy="33" r="30"></circle>
              </svg>
            </div>
          </div>
		{% comment %}<p class="collection-product-count light">{{ 'sections.collection_template.product_count' | t: product_count: collection.products_count, count: collection.all_products_count }}</p>{% endcomment %}
          <div id="CollectionSize" class="product-collection flex-box"  data-collectionSize="{{collection.products.size}}">
            {% for product in collection.products %}
              <div class="product-collection-card {% for tag in product.tags %} {{ tag | downcase | remove : " " }} {% endfor %}" id="main-collection-product-grid" data-id="{{ section.id }}" data-price="{{ product.price | divided_by : 100.00 }}"  data-tag="{% for tag in product.tags %}{{ tag }}{% if forloop.last == false %},{% endif %}{% endfor %}" title="{{product.title}}" href="{{ product.url }}">
                <div>
                <div class="featured-product-img rel">
                  {% if product.featured_image != blank %}
                  <a href="{{product.url}}" ><img class="product-img" src="{{ product.featured_image.src | img_url: 'x282' }}"></a>
                  {% else %}
                  {{ 'product-1' | placeholder_svg_tag }}
                  {% endif %}
                  
                  {% if product.has_only_default_variant %}
                  <div class="AddToCart product-hover-text flex-box align-center" data-variant-id="{{product.first_available_variant.id}}" data-quantity='1' >
                    <span class="plus-icon">{% include 'icon-yellow-plus' %}</span>
                    <span class="hover-text bold">KOPEN</span>
                  </div>
                  {% elsif  product.options_with_values.size > 1  %}
                  <a href="{{product.url}}">
                   <div class="product-hover-text flex-box align-center">
                    <span class="plus-icon">{% include 'icon-yellow-plus' %}</span>
                    <a href="{{product.url}}" class="hover-text bold">KOPEN</a>
                  </div>
                  </a>
                  {% else %}
                
                  <div data-prod-id="{{product.handle}}" class="variant-pop product-hover-text flex-box align-center">
                    <span class="plus-icon">{% include 'icon-yellow-plus' %}</span>
                    <span class="hover-text bold">KOPEN</span>
                  </div>
                  {% endif %}
                  
                  {%- unless product.has_only_default_variant -%}
                  {% if product.options_with_values.size <= 1 %}
                  {%- for option in product.options_with_values -%}
                  {%- if option.name == "Kleur" or option.name == "Color" -%}
                  <div id="{{product.handle}}" class="product_coll_variant variant-options-wrapper">
                    <div class="color_wrapper">
                      {% for variant in product.variants limit:6 %}
                      <span data-success-id="success_{{product.handle}}" class="AddToCart" data-variant-id="{{variant.id}}" data-quantity="1">

                        {% assign variantImg = blank %}
                        {% assign variantColorCode = blank %}
                        

                        <span class="color-swatch" >
                          {% assign colorsSch = colorScheme | strip_newlines | split: "," %}
                          {% for colors in colorsSch %}
                          {% assign color = colors | split: ":" %}
                          {% assign downcase1 = color[0] | downcase %}
                          {% assign downcase2 = variant.title | downcase %}
                          {% if downcase1 == downcase2 %}
                          {% assign variantColorCode = color[1] %}
                          {% break %}
                          {% endif %}
                          {% endfor %} 


                          {% assign imgsrc = value | append: ".PNG" %}
                          {% if variantImg != blank %}
                          {% assign variantColorCode = variantImg | img_url | prepend: "url(" | append: ")" %}
                          {% endif %}

                          {% if variantColorCode == blank %}
                          {% assign variantColorCode = "url(//cdn.shopify.com/s/files/1/0594/3604/0367/files/none.png?v=1634556355)" %}
                          {% endif %}

                          <span class="colors-color" style="background:{{ variantColorCode }};"></span>

                        </span>
                      </span>
                      {% endfor %}
                    </div>
                  </div>
                  <span id ="success_{{product.handle}}" class="success_cart__message">TOEGEVOEGD  {% include "tick" %}</span>
                  
                  {% else %}
                  <div id="{{product.handle}}" class="other-variants">
                  	<div class="color_wrapper">
                      {% for variant in product.variants limit:6 %}
                      <span variant-option="{{variant.option2}}" data-success-id="success_{{product.handle}}" class="AddToCart" data-variant-id="{{variant.id}}" data-quantity="1">
                        
                        {{variant.title}}

                      </span>
                      {% endfor %}
                    </div>
                  </div>
                   <span id ="success_{{product.handle}}" class="success_cart__message">TOEGEVOEGD  {% include "tick" %}</span>
                  {% endif %}
                  {% endfor %}
                  {% endif %}
                  {%- endunless -%}
               
                </div>
                <div class="product-title-price flex-box justify-between">
                  <div class="product-title semibold"><a href="{{product.url}}">{{ product.title | escape  | capitalize}}</a></div>
                  <div class="product-compare-to-and-price">
                    <span class="compare-to-price light">{{ product.compare_at_price | money }}</span>
                    <span class="product-price semibold{% if product.compare_at_price %} yellow-text{% endif %}">{{ product.price | money  }}</span>
                  </div>
                </div>
                </div>
                

                <div class="product-colors flex-box justify-between light">
                  {% if product.has_only_default_variant %}   
                  <div class="product-color">
                    
                  </div>          
                  {% else %}
                  {% for variant in product.variants limit:1%}
                  {%- for option in product.options_with_values limit:1-%}
                  <div class="product-color">
                    <span>{{option.name}}: </span>
                    <span>
                      {{variant.title}}
                    </span>
                  </div>
                 {% endfor %}
                  {% endfor %}
                  <div class="other-available-colors">
                    <a class="featured-product-link" href="{{product.url}}">Meer kleuren beschikbaar</a>
                  </div>
                  {% endif %}
                </div>

              </div>
       
            {% endfor %}
          </div>
        </div>
        {%- endif -%}
        {%- if paginate.pages > 1 -%}
        {% render 'pagination', paginate: paginate, anchor: '', class: '' %}
        {%- endif -%}
        {%- endpaginate -%}
        
      </div>


			</div>
		</div>
	</div>
</div>

<style>
  .color-swatch {
    width: 32px;
    height: 32px;
    display: inline-flex;
    border: 2px solid transparent;
    border-radius: 50%;
  }
  .color-swatch .colors-color {
    width: 100%;
    height: 100%;
    object-fit: cover;
    border-radius: 50%;
    background-repeat: no-repeat!important;
    background-size: cover!important;
    box-shadow: inset 0 0 0 0.5px #616161;
  }
  fieldset.product-form__input input:checked+label .color-swatch .colors-color {
    border: 2px solid #000;
    border-radius: 50%;
  }
  @media(max-width: 992px) {
    .color-swatch {
      width: 20px;
      height: 20px;
    }
  }
</style>



{% schema %}
{
  "name": "t:sections.main-collection-product-grid.name",
  "class": "spaced-section collection-grid-section",
  "settings": [
    {
      "type": "checkbox",
      "id": "enable_filtering",
      "default": true,
      "label": "t:sections.main-collection-product-grid.settings.enable_filtering.label",
      "info": "t:sections.main-collection-product-grid.settings.enable_filtering.info"
    },
    {
      "type": "checkbox",
      "id": "enable_sorting",
      "default": true,
      "label": "t:sections.main-collection-product-grid.settings.enable_sorting.label"
    },
    {
      "type": "checkbox",
      "id": "gender_show",
      "default": false,
      "label": "Show Gender Filter"
    },
	{
      "type": "checkbox",
      "id": "size_show",
      "default": false,
      "label": "Show Size Filter"
    },
	{
      "type": "checkbox",
      "id": "type_show",
      "default": false,
      "label": "Show Type Filter"
    },
	{
      "type": "checkbox",
      "id": "brand_show",
      "default": false,
      "label": "Show Brand Filter"
    },
    {
      "type": "text",
      "id": "gender_filter_title",
      "label": "Gender Filter Title"
    },
    {
      "type": "text",
      "id": "size_filter_title",
      "label": "Size Filter Title"
    },
    {
      "type": "text",
      "id": "type_filter_title",
      "label": "Type Filter Title"
    },
    {
      "type": "text",
      "id": "brand_filter_title",
      "label": "Brand Filter Title"
    },
    {
      "type": "link_list",
      "id": "header-list",
      "label": "Connect header list"
    },
	{
		"id": "filter_1_text",
		"type": "text",
		"label": "Filter One Text",
		"default" : "Toon 25 items"
	},
	{
		"id": "filter_2_text",
		"type": "text",
		"label": "Filter Two Text",
		"default" : "Toon 50 items"
	},
	{
		"id": "filter_3_text",
		"type": "text",
		"label": "Filter Three Text",
		"default" : "Toon 100 items"
	},
	{
		"id": "filter_4_text",
		"type": "text",
		"label": "Filter Four Text",
		"default" : "Toon all items"
	}
  ],
	"blocks": [
		{
          "type": "button",
          "name": "Button",
          "limit": 1,
          "settings": [
            {
              "type": "text",
              "id": "button_label",
              "default": "Button label",
              "label": "t:sections.image-with-text.blocks.button.settings.button_label.label",
              "info": "t:sections.image-with-text.blocks.button.settings.button_label.info"
            },
            {
              "type": "url",
              "id": "button_link",
              "label": "t:sections.image-with-text.blocks.button.settings.button_link.label"
            }
          ]
        },
		{
          "type": "price_filter",
		  "name": "Price Filter",
		  "limit" : 1,
		  "settings": [
			{
              "type": "checkbox",
              "id": "show_price_filter",
              "label": "Show Price Filter",
              "default": true
            },
			{
              "type": "text",
              "id": "show_price_filter_heading",
              "label": "Price Filter heading",
			  "default" : "PRIJS"
            }
		  ]
        },
		{
          "type": "gender_filter",
		  "name": "Gender Filter",
		  "settings": [
			
			{
              "type": "text",
              "id": "gender",
              "label": "Gender"
            }
		  ]
        },
		{
          "type": "size_filter",
		  "name": "Size Filter",
		  "settings": [
			
			{
              "type": "text",
              "id": "size",
              "label": "Size"
            }
		  ]
        },
		{
          "type": "type_filter",
		  "name": "Type Filter",
		  "settings": [
			
			{
              "type": "text",
              "id": "type",
              "label": "Type"
            }
		  ]
        },
		{
          "type": "brand_filter",
		  "name": "Brand Filter",
		  "settings": [
			
			{
              "type": "text",
              "id": "brand",
              "label": "Brand Category"
            }
		  ]
        }
		
	],
	"presets": [
    {
      "name": "Collection Filter",
		"category":"section"
    }
  ]
}
{% endschema %}


 <script src="{{ "price-range.js" | asset_url }}" defer="defer"></script>

<script>
  // Function for close the Cart
  function openFilter() {
//     $(".filter-mask").fadeIn("fast");
    $(".filter-mask").addClass("active");
  }
  function toggleFilter() {
//     $(".filter-mask").fadeToggle("fast");
    $(".filter-mask").toggleClass("active");
    $(".filter-toggler").toggleClass("background-change");
    
    
  }

  // Function for close the Cart
  function closeFilter() {
//     $(".filter-mask").fadeOut("fast");
    $(".filter-toggler").removeClass("background-change");
    $(".filter-toggler").text(function(i, text){
      return text === "PRODUCTEN FILTEREN" ? "TOEPASSEN" : "PRODUCTEN FILTEREN";
    })
    $(".filter-mask").removeClass("active");
  }


  $(".filter-toggler").click(function(){
    $(this).text(function(i, text){
      return text === "PRODUCTEN FILTEREN" ? "TOEPASSEN" : "PRODUCTEN FILTEREN";
    })
    toggleFilter();
  });
  
  $(".filter-close").click(function(){
    closeFilter();
  });
</script>