{{ 'review-section.css' | asset_url | stylesheet_tag }}

<div class="review-wrapper container">
  <div class="review flex-box justify-between">
    <div class="hero-left rel">
    	<img 
            src="{{ section.settings.review_main_img | img_url: '533x' }}"
            alt="{{ section.settings.review_main_img.alt | escape }}"
            loading="lazy"
          >
      <div class="text-over-hero bold">{{section.settings.text_over_img}}</div>
      <a href="{{section.settings.btn_link}}" class="review-btn btn bold">{{section.settings.btn_txt}}</a>
      <div class="bg-yellow-dots dots-left-down">
      	{% include 'bg-grey-dots' %}
      </div>
    </div>
    <div class="hero-right flex-box justify-between">
      {% for block in section.blocks %}
      {% if block.type == "review_text" %}
      	<div class="review-part flex-box align-center text-center">
          <div class="review-rating-stars">
            {% if block.settings.review_rating == '5' %}
            {% for i in (1..5) %}
            <span class="star-svg">{% include 'icon-filled-star' %}</span>
            {% endfor %}
            {% endif %}
            
            {% if block.settings.review_rating == '4' %}
            {% for i in (1..4) %}
            <span class="star-svg">{% include 'icon-filled-star' %}</span>
            {% endfor %}
            {% for i in (1..1) %}
            <span class="star-svg">{% include 'icon-empty-star' %}</span>
            {% endfor %}
            {% endif %}
            
            {% if block.settings.review_rating == '3' %}
            {% for i in (1..3) %}
            <span class="star-svg">{% include 'icon-filled-star' %}</span>
            {% endfor %}
            {% for i in (1..2) %}
            <span class="star-svg">{% include 'icon-empty-star' %}</span>
            {% endfor %}
            {% endif %}
            
            {% if block.settings.review_rating == '2' %}
            {% for i in (1..2) %}
            <span class="star-svg">{% include 'icon-filled-star' %}</span>
            {% endfor %}
            {% for i in (1..3) %}
            <span class="star-svg">{% include 'icon-empty-star' %}</span>
            {% endfor %}
            {% endif %}
            
            {% if block.settings.review_rating == '1' %}
            {% for i in (1..1) %}
            <span class="star-svg">{% include 'icon-filled-star' %}</span>
            {% endfor %}
            {% for i in (1..4) %}
            <span class="star-svg">{% include 'icon-empty-star' %}</span>
            {% endfor %}
            {% endif %}
          </div>
          <div class="review-text light">{{ block.settings.review_text }}</div>
          <div class="reviewer semibold">{{ block.settings.reviewer }}</div>
      	</div>
      {% endif %}
      {% endfor %}
    </div>
  </div>
</div>

{% schema %}
  {
  "name": "Reviews",
  "settings": [
    {
      "type": "image_picker",
      "id": "review_main_img",
      "label": "Review Main Image"
    },
	{
      "type": "text",
      "id": "text_over_img",
      "label": "Text Over Image"
    },
	{
		"type": "text",
      "id": "btn_txt",
      "label": "Button Text"
	},
	{
		"type": "text",
      "id": "btn_link",
      "label": "Button Link"
	}
  ],
  "blocks": [
	{
		"type": "review_text",
      "name": "Review text",
		"limit": 4,
		"settings": [
			{
                "id": "review_rating",
                "type": "select",
				"label": "Ratings",
                "options": [
                {
                  "value": "1",
                  "label": "1 Star"
                },
                {
                  "value": "2",
                  "label": "2 Stars"
                },
                {
                    "value": "3",
                    "label": "3 Stars"
                },
				{
                    "value": "4",
                    "label": "4 Stars"
                },
				{
                    "value": "5",
                    "label": "5 Stars"
                }
              ],
              "default": "5",
              "label": "5"
            },
			{
				"id": "review_text",
			"type": "text",
			"label": "Review Text"
			},
			{
				"id": "reviewer",
			"type": "text",
			"label": "Reviewer"
			}
		]
	}
  ],
  "presets": [
    {
      "name": "Reviews",
		"category":"section"
    }
  ]
}
{% endschema %}

{% stylesheet %}
{% endstylesheet %}

{% javascript %}
{% endjavascript %}
