function getFocusableElements(a){return Array.from(a.querySelectorAll("summary, a[href], button:enabled, [tabindex]:not([tabindex^='-']), [draggable], area, input:not([type=hidden]):enabled, select:enabled, textarea:enabled, object, iframe"))}const trapFocusHandlers={};
function trapFocus(a,b=a){var c=getFocusableElements(a),d=c[0],f=c[c.length-1];removeTrapFocus();trapFocusHandlers.focusin=e=>{e.target!==a&&e.target!==f&&e.target!==d||document.addEventListener("keydown",trapFocusHandlers.keydown)};trapFocusHandlers.focusout=function(){document.removeEventListener("keydown",trapFocusHandlers.keydown)};trapFocusHandlers.keydown=function(e){"TAB"===e.code.toUpperCase()&&(e.target!==f||e.shiftKey||(e.preventDefault(),d.focus()),e.target!==a&&e.target!==d||!e.shiftKey||
(e.preventDefault(),f.focus()))};document.addEventListener("focusout",trapFocusHandlers.focusout);document.addEventListener("focusin",trapFocusHandlers.focusin);b.focus()}
function pauseAllMedia(){document.querySelectorAll(".js-youtube").forEach(a=>{a.contentWindow.postMessage('{"event":"command","func":"pauseVideo","args":""}',"*")});document.querySelectorAll(".js-vimeo").forEach(a=>{a.contentWindow.postMessage('{"method":"pause"}',"*")});document.querySelectorAll("video").forEach(a=>a.pause());document.querySelectorAll("product-model").forEach(a=>a.modelViewerUI?.pause())}
function removeTrapFocus(a=null){document.removeEventListener("focusin",trapFocusHandlers.focusin);document.removeEventListener("focusout",trapFocusHandlers.focusout);document.removeEventListener("keydown",trapFocusHandlers.keydown);a&&a.focus()}
class QuantityInput extends HTMLElement{constructor(){super();this.input=this.querySelector("input");this.changeEvent=new Event("change",{bubbles:!0});this.querySelectorAll("button").forEach(a=>a.addEventListener("click",this.onButtonClick.bind(this)))}onButtonClick(a){a.preventDefault();const b=this.input.value;"plus"===a.target.name?this.input.stepUp():this.input.stepDown();b!==this.input.value&&this.input.dispatchEvent(this.changeEvent)}}customElements.define("quantity-input",QuantityInput);
function debounce(a,b){let c;return(...d)=>{clearTimeout(c);c=setTimeout(()=>a.apply(this,d),b)}}const serializeForm=a=>{const b={};a=new FormData(a);for(const c of a.keys())b[c]=a.get(c);return JSON.stringify(b)};function fetchConfig(a="json"){return{method:"POST",headers:{"Content-Type":"application/json",Accept:`application/${a}`}}}"undefined"==typeof window.Shopify&&(window.Shopify={});Shopify.bind=function(a,b){return function(){return a.apply(b,arguments)}};
Shopify.setSelectorByValue=function(a,b){for(var c=0,d=a.options.length;c<d;c++){var f=a.options[c];if(b==f.value||b==f.innerHTML)return a.selectedIndex=c}};Shopify.addListener=function(a,b,c){a.addEventListener?a.addEventListener(b,c,!1):a.attachEvent("on"+b,c)};
Shopify.postLink=function(a,b){b=b||{};var c=b.method||"post";b=b.parameters||{};var d=document.createElement("form");d.setAttribute("method",c);d.setAttribute("action",a);for(var f in b)a=document.createElement("input"),a.setAttribute("type","hidden"),a.setAttribute("name",f),a.setAttribute("value",b[f]),d.appendChild(a);document.body.appendChild(d);d.submit();document.body.removeChild(d)};
Shopify.CountryProvinceSelector=function(a,b,c){this.countryEl=document.getElementById(a);this.provinceEl=document.getElementById(b);this.provinceContainer=document.getElementById(c.hideElement||b);Shopify.addListener(this.countryEl,"change",Shopify.bind(this.countryHandler,this));this.initCountry();this.initProvince()};
Shopify.CountryProvinceSelector.prototype={initCountry:function(){var a=this.countryEl.getAttribute("data-default");Shopify.setSelectorByValue(this.countryEl,a);this.countryHandler()},initProvince:function(){var a=this.provinceEl.getAttribute("data-default");a&&0<this.provinceEl.options.length&&Shopify.setSelectorByValue(this.provinceEl,a)},countryHandler:function(a){a=this.countryEl.options[this.countryEl.selectedIndex];a=a.getAttribute("data-provinces");var b=JSON.parse(a);this.clearOptions(this.provinceEl);
if(b&&0==b.length)this.provinceContainer.style.display="none";else{for(var c=0;c<b.length;c++)a=document.createElement("option"),a.value=b[c][0],a.innerHTML=b[c][1],this.provinceEl.appendChild(a);this.provinceContainer.style.display=""}},clearOptions:function(a){for(;a.firstChild;)a.removeChild(a.firstChild)},setOptions:function(a,b){for(var c=0;c<b.length;c++){var d=document.createElement("option");d.value=b[c];d.innerHTML=b[c];a.appendChild(d)}}};
class MenuDrawer extends HTMLElement{constructor(){super();this.mainDetailsToggle=this.querySelector("details");const a=this.querySelectorAll("summary");this.addAccessibilityAttributes(a);"iPhone"===navigator.platform&&document.documentElement.style.setProperty("--viewport-height",`${window.innerHeight}px`);this.addEventListener("keyup",this.onKeyUp.bind(this));this.addEventListener("focusout",this.onFocusOut.bind(this));this.bindEvents()}bindEvents(){this.querySelectorAll("summary").forEach(a=>a.addEventListener("click",
this.onSummaryClick.bind(this)));this.querySelectorAll("button").forEach(a=>a.addEventListener("click",this.onCloseButtonClick.bind(this)))}addAccessibilityAttributes(a){a.forEach(b=>{b.setAttribute("role","button");b.setAttribute("aria-expanded",!1);b.setAttribute("aria-controls",b.nextElementSibling.id)})}onKeyUp(a){"ESCAPE"===a.code.toUpperCase()&&(a=a.target.closest("details[open]"))&&(a===this.mainDetailsToggle?this.closeMenuDrawer(this.mainDetailsToggle.querySelector("summary")):this.closeSubmenu(a))}onSummaryClick(a){const b=
a.currentTarget,c=b.parentNode,d=c.hasAttribute("open");c===this.mainDetailsToggle?(d&&a.preventDefault(),d?this.closeMenuDrawer(b):this.openMenuDrawer(b)):(trapFocus(b.nextElementSibling,c.querySelector("button")),setTimeout(()=>{c.classList.add("menu-opening")}))}openMenuDrawer(a){setTimeout(()=>{this.mainDetailsToggle.classList.add("menu-opening")});a.setAttribute("aria-expanded",!0);trapFocus(this.mainDetailsToggle,a);document.body.classList.add("overflow-hidden-mobile")}closeMenuDrawer(a,b=!1){void 0!==
a&&(this.mainDetailsToggle.classList.remove("menu-opening"),this.mainDetailsToggle.querySelectorAll("details").forEach(c=>{c.removeAttribute("open");c.classList.remove("menu-opening")}),this.mainDetailsToggle.querySelector("summary").setAttribute("aria-expanded",!1),document.body.classList.remove("overflow-hidden-mobile"),removeTrapFocus(b),this.closeAnimation(this.mainDetailsToggle))}onFocusOut(a){setTimeout(()=>{this.mainDetailsToggle.hasAttribute("open")&&!this.mainDetailsToggle.contains(document.activeElement)&&
this.closeMenuDrawer()})}onCloseButtonClick(a){a=a.currentTarget.closest("details");this.closeSubmenu(a)}closeSubmenu(a){a.classList.remove("menu-opening");removeTrapFocus();this.closeAnimation(a)}closeAnimation(a){let b;const c=d=>{void 0===b&&(b=d);400>d-b?window.requestAnimationFrame(c):(a.removeAttribute("open"),a.closest("details[open]")&&trapFocus(a.closest("details[open]"),a.querySelector("summary")))};window.requestAnimationFrame(c)}}customElements.define("menu-drawer",MenuDrawer);
class HeaderDrawer extends MenuDrawer{constructor(){super()}openMenuDrawer(a){this.header=this.header||document.getElementById("shopify-section-header");this.borderOffset=this.borderOffset||this.closest(".header-wrapper").classList.contains("header-wrapper--border-bottom")?1:0;document.documentElement.style.setProperty("--header-bottom-position",`${parseInt(this.header.getBoundingClientRect().bottom-this.borderOffset)}px`);setTimeout(()=>{this.mainDetailsToggle.classList.add("menu-opening")});a.setAttribute("aria-expanded",
!0);trapFocus(this.mainDetailsToggle,a);document.body.classList.add("overflow-hidden-mobile")}}customElements.define("header-drawer",HeaderDrawer);
class ModalDialog extends HTMLElement{constructor(){super();this.querySelector('[id^="ModalClose-"]').addEventListener("click",this.hide.bind(this));this.addEventListener("click",a=>{"MODAL-DIALOG"===a.target.nodeName&&this.hide()});this.addEventListener("keyup",()=>{"ESCAPE"===event.code.toUpperCase()&&this.hide()})}show(a){this.openedBy=a;document.body.classList.add("overflow-hidden");this.setAttribute("open","");this.querySelector(".template-popup")?.loadContent();trapFocus(this,this.querySelector('[role="dialog"]'))}hide(){document.body.classList.remove("overflow-hidden");
this.removeAttribute("open");removeTrapFocus(this.openedBy);window.pauseAllMedia()}}customElements.define("modal-dialog",ModalDialog);class ModalOpener extends HTMLElement{constructor(){super();const a=this.querySelector("button");a?.addEventListener("click",()=>{document.querySelector(this.getAttribute("data-modal"))?.show(a)})}}customElements.define("modal-opener",ModalOpener);
class DeferredMedia extends HTMLElement{constructor(){super();this.querySelector('[id^="Deferred-Poster-"]')?.addEventListener("click",this.loadContent.bind(this))}loadContent(){if(!this.getAttribute("loaded")){const a=document.createElement("div");a.appendChild(this.querySelector("template").content.firstElementChild.cloneNode(!0));this.setAttribute("loaded",!0);window.pauseAllMedia();this.appendChild(a.querySelector("video, model-viewer, iframe")).focus()}}}
customElements.define("deferred-media",DeferredMedia);
