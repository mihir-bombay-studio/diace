class SliderComponent extends HTMLElement{constructor(){super();this.slider=this.querySelector("ul");this.sliderItems=this.querySelectorAll("li");this.pageCount=this.querySelector(".slider-counter--current");this.pageTotal=this.querySelector(".slider-counter--total");this.prevButton=this.querySelector('button[name="previous"]');this.nextButton=this.querySelector('button[name="next"]');this.slider&&this.nextButton&&((new ResizeObserver(a=>this.initPages())).observe(this.slider),this.slider.addEventListener("scroll",
this.update.bind(this)),this.prevButton.addEventListener("click",this.onButtonClick.bind(this)),this.nextButton.addEventListener("click",this.onButtonClick.bind(this)))}initPages(){this.slidesPerPage=Math.floor(this.slider.clientWidth/this.sliderItems[0].clientWidth);this.totalPages=this.sliderItems.length-this.slidesPerPage+1;this.update()}update(){this.pageCount&&this.pageTotal&&(this.currentPage=Math.round(this.slider.scrollLeft/this.sliderItems[0].clientWidth)+1,1===this.currentPage?this.prevButton.setAttribute("disabled",
!0):this.prevButton.removeAttribute("disabled"),this.currentPage===this.totalPages?this.nextButton.setAttribute("disabled",!0):this.nextButton.removeAttribute("disabled"),this.pageCount.textContent=this.currentPage,this.pageTotal.textContent=this.totalPages)}onButtonClick(a){a.preventDefault();this.slider.scrollTo({left:"next"===a.currentTarget.name?this.slider.scrollLeft+this.sliderItems[0].clientWidth:this.slider.scrollLeft-this.sliderItems[0].clientWidth})}}
customElements.define("slider-component",SliderComponent);
